$(function(){function k(t){var u=n.getPixelFromCoordinate(t.coordinate),r="";n.forEachFeatureAtPixel(u,function(n,u){if(u===i){var f=e[0];r="<b>Parcel Number:<\/b><small> "+f.Parcel_Num+"<\/small><br>";r+="<b>Beacons:<\/b><small> "+f.Boundary+"<\/small><br>";r+="<b>Date of Update:<\/b><small> "+f.DateUpdated+"<\/small><br>";r+="<b>Area:<\/b><small> "+f.Area2+" Acres<\/small><br>";o.show(t.coordinate,"<div><h5>Parcel Details<\/h5><div>"+r+"<\/div><\/div>")}})}var t=0,h=function(){document.getElementById("throbber").style.display="block";++t},f=function(){--t;t<=0&&(t=0,document.getElementById("throbber").style.display="none")},c=function(n){n.oldValue&&this.throbberVisible?(f(),this.throbberVisible=!1):n.oldValue||this.throbberVisible||(h(),this.throbberVisible=!0)},l=function(){this.throbberVisible&&(f(),this.throbberVisible=!1)},u,s;const a=document.getElementById("popup"),d=document.getElementById("popup-content"),g=document.getElementById("popup-closer");var v=[new ol.style.Style({stroke:new ol.style.Stroke({color:"blue",width:3}),fill:new ol.style.Fill({color:"rgba(0, 0, 255, 0.1)"})}),new ol.style.Style({image:new ol.style.Circle({radius:5,fill:new ol.style.Fill({color:"rgba(255, 0, 25,0.8)"})}),geometry:function(n){var t=n.getGeometry().getCoordinates()[0];return new ol.geom.MultiPoint(t)}})],e=[],r=new ol.source.Vector,i=new ol.layer.Vector({source:r,style:v}),y=new ol.proj.Projection({code:"EPSG:3857",units:"m",axisOrientation:"neu"});const p=new ol.Overlay({element:a,autoPan:!0,autoPanAnimation:{duration:250}});var w=new ol.View({center:[4098004.08,-142987.72],maxZoom:30,zoom:18,projection:y}),b=new ol.layer.Tile({source:new ol.source.OSM}),n=new ol.Map({layers:[b],target:document.getElementById("map"),view:w,overlays:[p]}),o=new Popup;n.addOverlay(o);n.on("pointermove",function(t){if(!t.dragging){var i=n.getEventPixel(t.originalEvent),r=n.forEachLayerAtPixel(i,function(){return!0});n.getTargetElement().style.cursor=r?"pointer":""}});u=(new ol.format.GeoJSON).readFeatures(GeoJson);s=u[0].getProperties();e.push(s);r.addFeatures(u);n.getView().fit(r.getExtent());n.on("pointermove",k);i.on("change:visible",c);i.on("render",l);n.addLayer(i)});